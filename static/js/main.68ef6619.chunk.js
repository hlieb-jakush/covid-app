(this["webpackJsonpcovid-app"]=this["webpackJsonpcovid-app"]||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/united-nations.f1d483fa.svg"},35:function(e,t,a){e.exports=a.p+"static/media/uk.8b60db82.svg"},36:function(e,t,a){e.exports=a.p+"static/media/france.a573a70c.svg"},37:function(e,t,a){e.exports=a.p+"static/media/germany.42efef16.svg"},38:function(e,t,a){e.exports=a.p+"static/media/italy.d21dc3b6.svg"},39:function(e,t,a){e.exports=a.p+"static/media/belarus.5057516e.svg"},40:function(e,t,a){e.exports=a.p+"static/media/ukraine.24ffc5a1.svg"},41:function(e,t,a){e.exports=a.p+"static/media/russia.e0012980.svg"},44:function(e,t,a){e.exports=a(82)},70:function(e,t,a){},71:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),l=a(5),i=a(4),u=a(14),s=a(33),m=a(11),d=a(1),p={world:null,worldList:{filterType:null,original:null,filtered:null},countryList:{displayType:null,filterType:null,original:null,filtered:null},isInit:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZATION":return Object(d.a)(Object(d.a)({},e),{},{world:Object(d.a)({},t.summary.Global),worldList:{filterType:"default",original:Object(m.a)(t.summary.Countries),filtered:Object(m.a)(t.summary.Countries)},isInit:!0});case"SET_COUNTRY":return Object(d.a)(Object(d.a)({},e),{},{countryList:{displayType:"list",filterType:"default",original:Object(m.a)(t.countryObj),filtered:Object(m.a)(t.countryObj)}});case"WORLD_FILTER_DEFAULT":return Object(d.a)(Object(d.a)({},e),{},{worldList:Object(d.a)(Object(d.a)({},e.worldList),{},{filterType:"default",filtered:Object(m.a)(e.worldList.original)})});case"WORLD_FILTER_CONFIRMED":return Object(d.a)(Object(d.a)({},e),{},{worldList:Object(d.a)(Object(d.a)({},e.worldList),{},{filterType:"confirmed",filtered:Object(m.a)(e.worldList.filtered.sort((function(e,t){return t.TotalConfirmed-e.TotalConfirmed})))})});case"WORLD_FILTER_RECOVERED":return Object(d.a)(Object(d.a)({},e),{},{worldList:Object(d.a)(Object(d.a)({},e.worldList),{},{filterType:"recovered",filtered:Object(m.a)(e.worldList.filtered.sort((function(e,t){return t.TotalRecovered-e.TotalRecovered})))})});case"WORLD_FILTER_DEATH":return Object(d.a)(Object(d.a)({},e),{},{worldList:Object(d.a)(Object(d.a)({},e.worldList),{},{filterType:"death",filtered:Object(m.a)(e.worldList.filtered.sort((function(e,t){return t.TotalDeaths-e.TotalDeaths})))})});case"COUNTRY_FILTER_DEFAULT":return Object(d.a)(Object(d.a)({},e),{},{countryList:Object(d.a)(Object(d.a)({},e.countryList),{},{filterType:"default",filtered:Object(m.a)(e.countryList.original)})});case"COUNTRY_FILTER_REVERSE":return Object(d.a)(Object(d.a)({},e),{},{countryList:Object(d.a)(Object(d.a)({},e.countryList),{},{filterType:"reverse",filtered:Object(m.a)(e.countryList.filtered.reverse())})});case"SET_DISPLAY_TYPE_LIST":return Object(d.a)(Object(d.a)({},e),{},{countryList:Object(d.a)(Object(d.a)({},e.countryList),{},{displayType:"list"})});case"SET_DISPLAY_TYPE_CHART":return Object(d.a)(Object(d.a)({},e),{},{countryList:Object(d.a)(Object(d.a)({},e.countryList),{},{displayType:"chart"})});default:return e}},b=Object(u.c)(f,Object(u.a)(s.a));window.store=b;var v=b,E=a(43),y=a(34),_=a.n(y).a.create({baseURL:"https://api.covid19api.com/"}),C={getSummary:function(){return _.get("summary").then((function(e){return e.data}),(function(e){return C.getSummary()}))},getCountry:function(e){return _.get("total/dayone/country/".concat(e)).then((function(e){return e.data}))}},T=C,O=function(e){return function(t){T.getCountry(e).then((function(e){return t(function(e){return{type:"SET_COUNTRY",countryObj:e}}(e))}))}},D=(a(70),function(e){var t=e.icon,a=e.country;return r.a.createElement("div",{className:"sidebar__button"},r.a.createElement("span",null,r.a.createElement("img",{src:t,alt:"flag"})),r.a.createElement("span",null,a))}),L=a(17),j=a.n(L),R=a(35),h=a.n(R),N=a(36),w=a.n(N),g=a(37),F=a.n(g),I=a(38),x=a.n(I),S=a(39),W=a.n(S),A=a(40),k=a.n(A),Y=a(41),U=a.n(Y),M=(a(71),function(){return r.a.createElement("aside",{className:"covid-app__section covid-app__sidebar"},r.a.createElement(i.b,{exact:!0,to:"/",activeClassName:"selected"},r.a.createElement(D,{icon:j.a,country:"World"})),r.a.createElement(i.b,{to:"/united-kingdom",activeClassName:"selected"},r.a.createElement(D,{icon:h.a,country:"United Kingdom"})),r.a.createElement(i.b,{to:"/france",activeClassName:"selected"},r.a.createElement(D,{icon:w.a,country:"France"})),r.a.createElement(i.b,{to:"/germany",activeClassName:"selected"},r.a.createElement(D,{icon:F.a,country:"Germany"})),r.a.createElement(i.b,{to:"/italy",activeClassName:"selected"},r.a.createElement(D,{icon:x.a,country:"Italy"})),r.a.createElement(i.b,{to:"/belarus",activeClassName:"selected"},r.a.createElement(D,{icon:W.a,country:"Belarus"})),r.a.createElement(i.b,{to:"/ukraine",activeClassName:"selected"},r.a.createElement(D,{icon:k.a,country:"Ukraine"})),r.a.createElement(i.b,{to:"/russia",activeClassName:"selected"},r.a.createElement(D,{icon:U.a,country:"Russia"})))}),P=a(3),B=(a(73),function(e){var t=e.img,a=e.alt,n=e.text,c=e.totalData,o=e.newData,l=e.numberConverter,i=e.dateConverter,u=e.isColumn;return r.a.createElement("span",{className:"list-item__value ".concat(u?"list-item__value_column":"")},t&&r.a.createElement("span",{className:"list-item__value_text"},r.a.createElement("img",{src:t,alt:a})," "),n&&r.a.createElement("span",{className:"list-item__value_text"},n," "),i&&r.a.createElement("span",{className:"list-item__value_data"},i(c)),l&&!o&&r.a.createElement("span",{className:"list-item__value_data"},l(c)),l&&!!o&&r.a.createElement("span",{className:"list-item__value_data"},l(c)," (+",l(o),")"))}),H=(a(74),function(e){var t=e.icon,a=e.world,n=e.numberConverter;return r.a.createElement("header",{className:"covid-app__section covid-app__header"},r.a.createElement("button",{className:"covid-app__button"},"Menu"),r.a.createElement(B,{img:t,alt:"flag"}),r.a.createElement(B,{text:"Confirmed:",totalData:a.TotalConfirmed,newData:a.NewConfirmed,numberConverter:n,isColumn:!0}),r.a.createElement(B,{text:"Recovered:",totalData:a.TotalRecovered,newData:a.NewRecovered,numberConverter:n,isColumn:!0}),r.a.createElement(B,{text:"Deaths:",totalData:a.TotalDeaths,newData:a.NewDeaths,numberConverter:n,isColumn:!0}))}),V=(a(75),Object(P.e)((function(e){var t=e.match,a=e.displayType,n=e.setListType,c=e.setChartType;return r.a.createElement("span",{className:"filter__toggle"},r.a.createElement(i.b,{to:"/".concat(t.params.country)},r.a.createElement("button",{className:"covid-app__button ".concat("list"===a?"covid-app__button_selected":null),onClick:n},"List")),r.a.createElement(i.b,{to:"/".concat(t.params.country,"/chart")},r.a.createElement("button",{className:"covid-app__button ".concat("chart"===a?"covid-app__button_selected":null),onClick:c},"Chart")))}))),z=function(e){var t=e.displayType,a=e.filterType,n=e.setDefaultFilter,c=e.setReverseFilter,o=e.setListType,l=e.setChartType;return r.a.createElement("section",{className:"covid-app__section covid-app__filter"},r.a.createElement("span",null,r.a.createElement("span",null,"Sorted by:"),r.a.createElement("button",{className:"covid-app__button ".concat("default"===a?"covid-app__button_selected":null),disabled:"chart"===t,onClick:n},"Default"),r.a.createElement("button",{className:"covid-app__button ".concat("reverse"===a?"covid-app__button_selected":null),disabled:"chart"===t,onClick:c},"Reverse")),r.a.createElement(V,{displayType:t,setListType:o,setChartType:l}))},K=function(e){return e.isInit},Z=function(e){return e.world},G=function(e){return e.worldList.filterType},J=function(e){return e.worldList.filtered},q=function(e){return e.countryList.displayType},Q=function(e){return e.countryList.filterType},X=function(e){return e.countryList.original},$=function(e){return e.countryList.filtered},ee=Object(l.b)((function(e){return{displayType:q(e),filterType:Q(e)}}),{setCountryFilterDefault:function(){return{type:"COUNTRY_FILTER_DEFAULT"}},setCountryFilterReverse:function(){return{type:"COUNTRY_FILTER_REVERSE"}},setDisplayTypeList:function(){return{type:"SET_DISPLAY_TYPE_LIST"}},setDisplayTypeChart:function(){return{type:"SET_DISPLAY_TYPE_CHART"}}})((function(e){var t=e.displayType,a=e.filterType,n=e.setCountryFilterDefault,c=e.setCountryFilterReverse,o=e.setDisplayTypeList,l=e.setDisplayTypeChart;return r.a.createElement(z,{displayType:t,filterType:a,setDefaultFilter:n,setReverseFilter:c,setListType:o,setChartType:l})})),te=function(e){var t=e.Day,a=e.Confirmed,n=e.Recovered,c=e.Deaths,o=e.numberConverter,l=e.dateConverter;return r.a.createElement("section",{className:"covid-app__list-item"},r.a.createElement(B,{totalData:t,dateConverter:l}),r.a.createElement(B,{text:"Confirmed:",totalData:a,numberConverter:o}),r.a.createElement(B,{text:"Recovered:",totalData:n,numberConverter:o}),r.a.createElement(B,{text:"Deaths:",totalData:c,numberConverter:o}))},ae=function(e){var t=e.countryList,a=e.numberConverter,n=e.dateConverter;return r.a.createElement("section",{className:"covid-app__section covid-app__section_list"},t?t.map((function(e){return r.a.createElement(te,{key:e.Date,Day:e.Date,Confirmed:e.Confirmed,Recovered:e.Recovered,Deaths:e.Deaths,numberConverter:a,dateConverter:n})})):"Loading...")},ne=function(e){return e>1e6?"".concat(Math.round(e/1e3)/1e3,"M"):e>1e4?"".concat(Math.round(e/100)/10,"K"):e>1e3?"".concat(Math.round(e/10)/100,"K"):e<1e3?e:void 0},re=function(e){var t=new Date(Date.parse(e));return(new Intl.DateTimeFormat).format(t)},ce=Object(l.b)((function(e){return{countryList:$(e)}}),null)((function(e){return r.a.createElement(ae,Object.assign({},e,{numberConverter:ne,dateConverter:re}))})),oe=a(42),le=a.n(oe),ie=(a(78),function(e){var t=e.countryList,a=e.dateConverter;Object(n.useEffect)((function(){new le.a(c.current,{type:"line",data:{labels:t.map((function(e){return a(e.Date)})),datasets:[{label:"Confirmed",data:t.map((function(e){return e.Confirmed})),borderColor:"#4D1ED3",borderWidth:3,fill:!1},{label:"Recovered",data:t.map((function(e){return e.Recovered})),borderColor:"#72EBBA",borderWidth:3,fill:!1},{label:"Deaths",data:t.map((function(e){return e.Deaths})),borderColor:"#FC1946",borderWidth:3,fill:!1}]},options:{responsive:!0,elements:{point:{pointStyle:"circle",radius:0}},legend:{position:"bottom",labels:{padding:40}},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}),[t,a]);var c=Object(n.useRef)(null);return r.a.createElement("section",{className:"covid-app__section covid-app__chart"},r.a.createElement("canvas",{ref:c}))}),ue=Object(l.b)((function(e){return{countryList:X(e)}}),null)((function(e){return r.a.createElement(ie,Object.assign({},e,{numberConverter:ne,dateConverter:re}))})),se=Object(P.e)(Object(l.b)(null,{onSetCountry:O})((function(e){var t=e.match,a=e.onSetCountry;return Object(n.useEffect)((function(){a(t.params.country)}),[t.params.country,a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,null),r.a.createElement(P.a,{exact:!0,path:"/:country/",render:function(){return r.a.createElement(ce,null)}}),r.a.createElement(P.a,{path:"/:country/chart",render:function(){return r.a.createElement(ue,null)}}))}))),me=function(e){var t=e.activeButton,a=e.setDefaultFilter,n=e.setConfirmedFilter,c=e.setRecoveredFilter,o=e.setDeathFilter;return r.a.createElement("section",{className:"covid-app__section covid-app__filter"},r.a.createElement("span",null,r.a.createElement("span",null,"Sorted by:"),r.a.createElement("button",{className:"covid-app__button ".concat("default"===t?"covid-app__button_selected":null),onClick:a},"Default"),r.a.createElement("button",{className:"covid-app__button ".concat("confirmed"===t?"covid-app__button_selected":null),onClick:n},"Confirmed"),r.a.createElement("button",{className:"covid-app__button ".concat("recovered"===t?"covid-app__button_selected":null),onClick:c},"Recovered"),r.a.createElement("button",{className:"covid-app__button ".concat("death"===t?"covid-app__button_selected":null),onClick:o},"Deaths")),r.a.createElement("span",null,r.a.createElement("input",{placeholder:"Search country..."})))},de=Object(l.b)((function(e){return{filterType:G(e)}}),{setWorldFilterDefault:function(){return{type:"WORLD_FILTER_DEFAULT"}},setWorldFilterConfirmed:function(){return{type:"WORLD_FILTER_CONFIRMED"}},setWorldFilterRecovered:function(){return{type:"WORLD_FILTER_RECOVERED"}},setWorldFilterDeath:function(){return{type:"WORLD_FILTER_DEATH"}}})((function(e){var t=e.filterType,a=e.setWorldFilterDefault,n=e.setWorldFilterConfirmed,c=e.setWorldFilterRecovered,o=e.setWorldFilterDeath;return r.a.createElement(me,{activeButton:t,setDefaultFilter:a,setConfirmedFilter:n,setRecoveredFilter:c,setDeathFilter:o})})),pe=function(e){var t=e.Country,a=e.TotalConfirmed,n=e.NewConfirmed,c=e.TotalDeaths,o=e.NewDeaths,l=e.TotalRecovered,i=e.NewRecovered,u=e.numberConverter;return r.a.createElement("section",{className:"covid-app__list-item"},r.a.createElement(B,{text:t}),r.a.createElement(B,{text:"Confirmed:",totalData:a,newData:n,numberConverter:u,isColumn:!0}),r.a.createElement(B,{text:"Recovered:",totalData:l,newData:i,numberConverter:u,isColumn:!0}),r.a.createElement(B,{text:"Deaths:",totalData:c,newData:o,numberConverter:u,isColumn:!0}))},fe=function(e){var t=e.worldList,a=e.numberConverter;return r.a.createElement("section",{className:"covid-app__section covid-app__section_list"},t.map((function(e){return r.a.createElement(i.b,{to:"/".concat(e.Slug),key:e.Country},r.a.createElement(pe,{Country:e.Country,TotalConfirmed:e.TotalConfirmed,NewConfirmed:e.NewConfirmed,TotalDeaths:e.TotalDeaths,NewDeaths:e.NewDeaths,TotalRecovered:e.TotalRecovered,NewRecovered:e.NewRecovered,numberConverter:a}))})))},be=Object(l.b)((function(e){return{worldList:J(e)}}),null)((function(e){return r.a.createElement(fe,Object.assign({},e,{numberConverter:ne}))})),ve=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,null),r.a.createElement(be,null))},Ee=(a(79),function(e){var t=e.world,a=e.numberConverter;return r.a.createElement("main",{className:"covid-app__main"},r.a.createElement(H,{icon:j.a,world:t,numberConverter:a}),r.a.createElement(P.a,{exact:!0,path:"/",render:function(){return r.a.createElement(ve,null)}}),r.a.createElement(P.a,{path:"/:country",render:function(){return r.a.createElement(se,null)}}))}),ye=(a(80),function(){return r.a.createElement("div",{className:"covid-app__loader"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))});var _e=Object(l.b)((function(e){return{isInit:K(e),world:Z(e)}}),{onInitialization:function(){return function(e){T.getSummary().then((function(t){return e(function(e){return{type:"INITIALIZATION",summary:e}}(t))}))}},onSetCountry:O})((function(e){var t=e.isInit,a=e.onInitialization,c=Object(E.a)(e,["isInit","onInitialization"]);return Object(n.useEffect)((function(){a()}),[a]),t?r.a.createElement("div",{className:"covid-app"},r.a.createElement(M,null),r.a.createElement(Ee,Object.assign({},c,{numberConverter:ne}))):r.a.createElement(ye,null)}));a(81);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:v},r.a.createElement(i.a,{basename:"/covid-app/"},r.a.createElement(_e,null)))),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.68ef6619.chunk.js.map