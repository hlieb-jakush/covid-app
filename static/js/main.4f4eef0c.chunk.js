(this["webpackJsonpcovid-app"]=this["webpackJsonpcovid-app"]||[]).push([[0],{17:function(e,t,n){e.exports=n.p+"static/media/united-nations.f1d483fa.svg"},35:function(e,t,n){e.exports=n.p+"static/media/uk.8b60db82.svg"},36:function(e,t,n){e.exports=n.p+"static/media/france.a573a70c.svg"},37:function(e,t,n){e.exports=n.p+"static/media/germany.42efef16.svg"},38:function(e,t,n){e.exports=n.p+"static/media/italy.d21dc3b6.svg"},39:function(e,t,n){e.exports=n.p+"static/media/belarus.5057516e.svg"},40:function(e,t,n){e.exports=n.p+"static/media/ukraine.24ffc5a1.svg"},41:function(e,t,n){e.exports=n.p+"static/media/russia.e0012980.svg"},44:function(e,t,n){e.exports=n(80)},70:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),l=n(5),i=n(4),u=n(14),s=n(33),d=n(11),m=n(1),p={world:null,worldList:{filterType:null,original:null,filtered:null},countryList:{displayType:null,filterType:null,original:null,filtered:null},isInit:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZATION":return Object(m.a)(Object(m.a)({},e),{},{world:Object(m.a)({},t.summary.Global),worldList:{filterType:"default",original:Object(d.a)(t.summary.Countries),filtered:Object(d.a)(t.summary.Countries)},isInit:!0});case"SET_COUNTRY":return Object(m.a)(Object(m.a)({},e),{},{countryList:{displayType:"list",filterType:"default",original:Object(d.a)(t.countryObj),filtered:Object(d.a)(t.countryObj)}});case"WORLD_FILTER_DEFAULT":return Object(m.a)(Object(m.a)({},e),{},{worldList:Object(m.a)(Object(m.a)({},e.worldList),{},{filterType:"default",filtered:Object(d.a)(e.worldList.original)})});case"WORLD_FILTER_CONFIRMED":return Object(m.a)(Object(m.a)({},e),{},{worldList:Object(m.a)(Object(m.a)({},e.worldList),{},{filterType:"confirmed",filtered:Object(d.a)(e.worldList.filtered.sort((function(e,t){return t.TotalConfirmed-e.TotalConfirmed})))})});case"WORLD_FILTER_RECOVERED":return Object(m.a)(Object(m.a)({},e),{},{worldList:Object(m.a)(Object(m.a)({},e.worldList),{},{filterType:"recovered",filtered:Object(d.a)(e.worldList.filtered.sort((function(e,t){return t.TotalRecovered-e.TotalRecovered})))})});case"WORLD_FILTER_DEATH":return Object(m.a)(Object(m.a)({},e),{},{worldList:Object(m.a)(Object(m.a)({},e.worldList),{},{filterType:"death",filtered:Object(d.a)(e.worldList.filtered.sort((function(e,t){return t.TotalDeaths-e.TotalDeaths})))})});case"COUNTRY_FILTER_DEFAULT":return Object(m.a)(Object(m.a)({},e),{},{countryList:Object(m.a)(Object(m.a)({},e.countryList),{},{filterType:"default",filtered:Object(d.a)(e.countryList.original)})});case"COUNTRY_FILTER_REVERSE":return Object(m.a)(Object(m.a)({},e),{},{countryList:Object(m.a)(Object(m.a)({},e.countryList),{},{filterType:"reverse",filtered:Object(d.a)(e.countryList.filtered.reverse())})});case"SET_DISPLAY_TYPE_LIST":return Object(m.a)(Object(m.a)({},e),{},{countryList:Object(m.a)(Object(m.a)({},e.countryList),{},{displayType:"list"})});case"SET_DISPLAY_TYPE_CHART":return Object(m.a)(Object(m.a)({},e),{},{countryList:Object(m.a)(Object(m.a)({},e.countryList),{},{displayType:"chart"})});default:return e}},b=Object(u.c)(f,Object(u.a)(s.a));window.store=b;var y=b,E=n(43),v=n(34),_=n.n(v).a.create({baseURL:"https://api.covid19api.com/"}),T={getSummary:function(){return _.get("summary").then((function(e){return e.data}))},getCountry:function(e){return _.get("total/dayone/country/".concat(e)).then((function(e){return e.data}))}},C=function(e){return function(t){T.getCountry(e).then((function(e){return t(function(e){return{type:"SET_COUNTRY",countryObj:e}}(e))}))}},O=(n(70),function(e){var t=e.icon,n=e.country;return r.a.createElement("div",{className:"sidebar__button"},r.a.createElement("span",null,r.a.createElement("img",{src:t,alt:"flag"})),r.a.createElement("span",null,n))}),L=n(17),j=n.n(L),h=n(35),D=n.n(h),R=n(36),N=n.n(R),g=n(37),F=n.n(g),w=n(38),I=n.n(w),S=n(39),W=n.n(S),k=n(40),A=n.n(k),Y=n(41),x=n.n(Y),U=(n(71),function(){return r.a.createElement("aside",{className:"covid-app__section covid-app__sidebar"},r.a.createElement(i.b,{exact:!0,to:"/",activeClassName:"selected"},r.a.createElement(O,{icon:j.a,country:"World"})),r.a.createElement(i.b,{to:"/united-kingdom",activeClassName:"selected"},r.a.createElement(O,{icon:D.a,country:"United Kingdom"})),r.a.createElement(i.b,{to:"/france",activeClassName:"selected"},r.a.createElement(O,{icon:N.a,country:"France"})),r.a.createElement(i.b,{to:"/germany",activeClassName:"selected"},r.a.createElement(O,{icon:F.a,country:"Germany"})),r.a.createElement(i.b,{to:"/italy",activeClassName:"selected"},r.a.createElement(O,{icon:I.a,country:"Italy"})),r.a.createElement(i.b,{to:"/belarus",activeClassName:"selected"},r.a.createElement(O,{icon:W.a,country:"Belarus"})),r.a.createElement(i.b,{to:"/ukraine",activeClassName:"selected"},r.a.createElement(O,{icon:A.a,country:"Ukraine"})),r.a.createElement(i.b,{to:"/russia",activeClassName:"selected"},r.a.createElement(O,{icon:x.a,country:"Russia"})))}),P=n(3),M=(n(73),function(e){var t=e.icon,n=e.world,a=e.numberConverter;return r.a.createElement("header",{className:"covid-app__section covid-app__header"},r.a.createElement("img",{src:t,alt:"flag"}),r.a.createElement("span",null,"Confirmed: ",a(n.TotalConfirmed)," (+",a(n.NewConfirmed),")"),r.a.createElement("span",null,"Recovered: ",a(n.TotalRecovered)," (+",a(n.NewRecovered),")"),r.a.createElement("span",null,"Deaths: ",a(n.TotalDeaths)," (+",a(n.NewDeaths),")"))}),B=(n(74),Object(P.e)((function(e){var t=e.match,n=e.displayType,a=e.setListType,c=e.setChartType;return r.a.createElement("span",{className:"filter__toggle"},r.a.createElement(i.b,{to:"/".concat(t.params.country)},r.a.createElement("button",{className:"covid-app__button ".concat("list"===n?"covid-app__button_selected":null),onClick:a},"List")),r.a.createElement(i.b,{to:"/".concat(t.params.country,"/chart")},r.a.createElement("button",{className:"covid-app__button ".concat("chart"===n?"covid-app__button_selected":null),onClick:c},"Chart")))}))),H=function(e){var t=e.displayType,n=e.filterType,a=e.setDefaultFilter,c=e.setReverseFilter,o=e.setListType,l=e.setChartType;return r.a.createElement("section",{className:"covid-app__section covid-app__filter"},r.a.createElement("span",null,r.a.createElement("span",null,"Sorted by:"),r.a.createElement("button",{className:"covid-app__button ".concat("default"===n?"covid-app__button_selected":null),disabled:"chart"===t,onClick:a},"Default"),r.a.createElement("button",{className:"covid-app__button ".concat("reverse"===n?"covid-app__button_selected":null),disabled:"chart"===t,onClick:c},"Reverse")),r.a.createElement(B,{displayType:t,setListType:o,setChartType:l}))},V=function(e){return e.isInit},z=function(e){return e.world},K=function(e){return e.worldList.filterType},Z=function(e){return e.worldList.filtered},G=function(e){return e.countryList.displayType},J=function(e){return e.countryList.filterType},q=function(e){return e.countryList.original},Q=function(e){return e.countryList.filtered},X=Object(l.b)((function(e){return{displayType:G(e),filterType:J(e)}}),{setCountryFilterDefault:function(){return{type:"COUNTRY_FILTER_DEFAULT"}},setCountryFilterReverse:function(){return{type:"COUNTRY_FILTER_REVERSE"}},setDisplayTypeList:function(){return{type:"SET_DISPLAY_TYPE_LIST"}},setDisplayTypeChart:function(){return{type:"SET_DISPLAY_TYPE_CHART"}}})((function(e){var t=e.displayType,n=e.filterType,a=e.setCountryFilterDefault,c=e.setCountryFilterReverse,o=e.setDisplayTypeList,l=e.setDisplayTypeChart;return r.a.createElement(H,{displayType:t,filterType:n,setDefaultFilter:a,setReverseFilter:c,setListType:o,setChartType:l})})),$=function(e){var t=e.Day,n=e.Confirmed,a=e.Recovered,c=e.Deaths,o=e.numberConverter,l=e.dateConverter;return r.a.createElement("section",{className:"covid-app__list-item"},r.a.createElement("span",null,l(t)),r.a.createElement("span",null,"Confirmed: ",o(n)),r.a.createElement("span",null,"Recovered: ",o(a)),r.a.createElement("span",null,"Deaths: ",o(c)))},ee=function(e){var t=e.countryList,n=e.numberConverter,a=e.dateConverter;return r.a.createElement("section",{className:"covid-app__section covid-app__section_list"},t?t.map((function(e){return r.a.createElement($,{key:e.Date,Day:e.Date,Confirmed:e.Confirmed,Recovered:e.Recovered,Deaths:e.Deaths,numberConverter:n,dateConverter:a})})):"Loading...")},te=function(e){return e>1e6?"".concat(Math.round(e/1e3)/1e3,"M"):e>1e4?"".concat(Math.round(e/100)/10,"K"):e>1e3?"".concat(Math.round(e/10)/100,"K"):e<1e3?e:void 0},ne=function(e){var t=new Date(Date.parse(e));return(new Intl.DateTimeFormat).format(t)},ae=Object(l.b)((function(e){return{countryList:Q(e)}}),null)((function(e){return r.a.createElement(ee,Object.assign({},e,{numberConverter:te,dateConverter:ne}))})),re=n(42),ce=n.n(re),oe=(n(77),function(e){var t=e.countryList,n=e.dateConverter;Object(a.useEffect)((function(){new ce.a(c.current,{type:"line",data:{labels:t.map((function(e){return n(e.Date)})),datasets:[{label:"Confirmed",data:t.map((function(e){return e.Confirmed})),borderColor:"#4D1ED3",borderWidth:3,fill:!1},{label:"Recovered",data:t.map((function(e){return e.Recovered})),borderColor:"#72EBBA",borderWidth:3,fill:!1},{label:"Deaths",data:t.map((function(e){return e.Deaths})),borderColor:"#FC1946",borderWidth:3,fill:!1}]},options:{responsive:!1,elements:{point:{pointStyle:"circle",radius:0}},legend:{position:"bottom",labels:{padding:40}},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}),[]);var c=Object(a.useRef)(null);return r.a.createElement("section",{className:"covid-app__section covid-app__chart"},r.a.createElement("canvas",{ref:c}))}),le=Object(l.b)((function(e){return{countryList:q(e)}}),null)((function(e){return r.a.createElement(oe,Object.assign({},e,{numberConverter:te,dateConverter:ne}))})),ie=Object(P.e)(Object(l.b)(null,{onSetCountry:C})((function(e){var t=e.match,n=e.onSetCountry;return Object(a.useEffect)((function(){n(t.params.country)}),[t.params.country]),r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null),r.a.createElement(P.a,{exact:!0,path:"/:country/",render:function(){return r.a.createElement(ae,null)}}),r.a.createElement(P.a,{path:"/:country/chart",render:function(){return r.a.createElement(le,null)}}))}))),ue=function(e){var t=e.activeButton,n=e.setDefaultFilter,a=e.setConfirmedFilter,c=e.setRecoveredFilter,o=e.setDeathFilter;return r.a.createElement("section",{className:"covid-app__section covid-app__filter"},r.a.createElement("span",null,r.a.createElement("span",null,"Sorted by:"),r.a.createElement("button",{className:"covid-app__button ".concat("default"===t?"covid-app__button_selected":null),onClick:n},"Default"),r.a.createElement("button",{className:"covid-app__button ".concat("confirmed"===t?"covid-app__button_selected":null),onClick:a},"Confirmed"),r.a.createElement("button",{className:"covid-app__button ".concat("recovered"===t?"covid-app__button_selected":null),onClick:c},"Recovered"),r.a.createElement("button",{className:"covid-app__button ".concat("death"===t?"covid-app__button_selected":null),onClick:o},"Deaths")),r.a.createElement("span",null,r.a.createElement("input",{placeholder:"Country title..."}),r.a.createElement("button",{className:"covid-app__button"},"Search")))},se=Object(l.b)((function(e){return{filterType:K(e)}}),{setWorldFilterDefault:function(){return{type:"WORLD_FILTER_DEFAULT"}},setWorldFilterConfirmed:function(){return{type:"WORLD_FILTER_CONFIRMED"}},setWorldFilterRecovered:function(){return{type:"WORLD_FILTER_RECOVERED"}},setWorldFilterDeath:function(){return{type:"WORLD_FILTER_DEATH"}}})((function(e){var t=e.filterType,n=e.setWorldFilterDefault,a=e.setWorldFilterConfirmed,c=e.setWorldFilterRecovered,o=e.setWorldFilterDeath;return r.a.createElement(ue,{activeButton:t,setDefaultFilter:n,setConfirmedFilter:a,setRecoveredFilter:c,setDeathFilter:o})})),de=function(e){var t=e.Country,n=e.TotalConfirmed,a=e.NewConfirmed,c=e.TotalDeaths,o=e.NewDeaths,l=e.TotalRecovered,i=e.NewRecovered,u=e.numberConverter;return r.a.createElement("section",{className:"covid-app__list-item"},r.a.createElement("span",null,t),r.a.createElement("span",null,"Confirmed: ",u(n)," (+",u(a),")"),r.a.createElement("span",null,"Recovered: ",u(l)," (+",u(i),")"),r.a.createElement("span",null,"Deaths: ",u(c)," (+",u(o),")"))},me=function(e){var t=e.worldList,n=e.numberConverter;return r.a.createElement("section",{className:"covid-app__section covid-app__section_list"},t.map((function(e){return r.a.createElement(i.b,{to:"/".concat(e.Slug),key:e.Country},r.a.createElement(de,{Country:e.Country,TotalConfirmed:e.TotalConfirmed,NewConfirmed:e.NewConfirmed,TotalDeaths:e.TotalDeaths,NewDeaths:e.NewDeaths,TotalRecovered:e.TotalRecovered,NewRecovered:e.NewRecovered,numberConverter:n}))})))},pe=Object(l.b)((function(e){return{worldList:Z(e)}}),null)((function(e){return r.a.createElement(me,Object.assign({},e,{numberConverter:te}))})),fe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,null),r.a.createElement(pe,null))},be=(n(78),function(e){var t=e.world,n=e.numberConverter;return r.a.createElement("main",{className:"covid-app__main"},r.a.createElement(M,{icon:j.a,world:t,numberConverter:n}),r.a.createElement(P.a,{exact:!0,path:"/",render:function(){return r.a.createElement(fe,null)}}),r.a.createElement(P.a,{path:"/:country",render:function(){return r.a.createElement(ie,null)}}))});var ye=Object(l.b)((function(e){return{isInit:V(e),world:z(e)}}),{onInitialization:function(){return function(e){T.getSummary().then((function(t){return e(function(e){return{type:"INITIALIZATION",summary:e}}(t))}))}},onSetCountry:C})((function(e){var t=e.isInit,n=e.onInitialization,c=Object(E.a)(e,["isInit","onInitialization"]);return Object(a.useEffect)((function(){n()}),[]),t?r.a.createElement("div",{className:"covid-app"},r.a.createElement(U,null),r.a.createElement(be,Object.assign({},c,{numberConverter:te}))):r.a.createElement("div",null,"Loading...")}));n(79);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:y},r.a.createElement(i.a,{basename:"https://yakushgleb.github.io/covid-app/"},r.a.createElement(ye,null)))),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.4f4eef0c.chunk.js.map