(this["webpackJsonpcovid-app"]=this["webpackJsonpcovid-app"]||[]).push([[0],{17:function(e,t,n){e.exports=n.p+"static/media/united-nations.f1d483fa.svg"},35:function(e,t,n){e.exports=n.p+"static/media/uk.8b60db82.svg"},36:function(e,t,n){e.exports=n.p+"static/media/france.a573a70c.svg"},37:function(e,t,n){e.exports=n.p+"static/media/germany.42efef16.svg"},38:function(e,t,n){e.exports=n.p+"static/media/italy.d21dc3b6.svg"},39:function(e,t,n){e.exports=n.p+"static/media/belarus.5057516e.svg"},40:function(e,t,n){e.exports=n.p+"static/media/ukraine.24ffc5a1.svg"},41:function(e,t,n){e.exports=n.p+"static/media/russia.e0012980.svg"},44:function(e,t,n){e.exports=n(82)},70:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),l=n(5),i=n(4),u=n(14),s=n(33),d=n(11),m=n(1),p={world:null,worldList:{filterType:null,original:null,filtered:null},countryList:{displayType:null,filterType:null,original:null,filtered:null},isInit:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZATION":return Object(m.a)(Object(m.a)({},e),{},{world:Object(m.a)({},t.summary.Global),worldList:{filterType:"default",original:Object(d.a)(t.summary.Countries),filtered:Object(d.a)(t.summary.Countries)},isInit:!0});case"SET_COUNTRY":return Object(m.a)(Object(m.a)({},e),{},{countryList:{displayType:"list",filterType:"default",original:Object(d.a)(t.countryObj),filtered:Object(d.a)(t.countryObj)}});case"WORLD_FILTER_DEFAULT":return Object(m.a)(Object(m.a)({},e),{},{worldList:Object(m.a)(Object(m.a)({},e.worldList),{},{filterType:"default",filtered:Object(d.a)(e.worldList.original)})});case"WORLD_FILTER_CONFIRMED":return Object(m.a)(Object(m.a)({},e),{},{worldList:Object(m.a)(Object(m.a)({},e.worldList),{},{filterType:"confirmed",filtered:Object(d.a)(e.worldList.filtered.sort((function(e,t){return t.TotalConfirmed-e.TotalConfirmed})))})});case"WORLD_FILTER_RECOVERED":return Object(m.a)(Object(m.a)({},e),{},{worldList:Object(m.a)(Object(m.a)({},e.worldList),{},{filterType:"recovered",filtered:Object(d.a)(e.worldList.filtered.sort((function(e,t){return t.TotalRecovered-e.TotalRecovered})))})});case"WORLD_FILTER_DEATH":return Object(m.a)(Object(m.a)({},e),{},{worldList:Object(m.a)(Object(m.a)({},e.worldList),{},{filterType:"death",filtered:Object(d.a)(e.worldList.filtered.sort((function(e,t){return t.TotalDeaths-e.TotalDeaths})))})});case"COUNTRY_FILTER_DEFAULT":return Object(m.a)(Object(m.a)({},e),{},{countryList:Object(m.a)(Object(m.a)({},e.countryList),{},{filterType:"default",filtered:Object(d.a)(e.countryList.original)})});case"COUNTRY_FILTER_REVERSE":return Object(m.a)(Object(m.a)({},e),{},{countryList:Object(m.a)(Object(m.a)({},e.countryList),{},{filterType:"reverse",filtered:Object(d.a)(e.countryList.filtered.reverse())})});case"SET_DISPLAY_TYPE_LIST":return Object(m.a)(Object(m.a)({},e),{},{countryList:Object(m.a)(Object(m.a)({},e.countryList),{},{displayType:"list"})});case"SET_DISPLAY_TYPE_CHART":return Object(m.a)(Object(m.a)({},e),{},{countryList:Object(m.a)(Object(m.a)({},e.countryList),{},{displayType:"chart"})});default:return e}},b=Object(u.c)(f,Object(u.a)(s.a));window.store=b;var v=b,E=n(43),y=n(34),_=n.n(y).a.create({baseURL:"https://api.covid19api.com/"}),C={getSummary:function(){return _.get("summary").then((function(e){return e.data}),(function(e){return C.getSummary()}))},getCountry:function(e){return _.get("total/dayone/country/".concat(e)).then((function(e){return e.data}))}},T=C,O=function(e){return function(t){T.getCountry(e).then((function(e){return t(function(e){return{type:"SET_COUNTRY",countryObj:e}}(e))}))}},D=(n(70),function(e){var t=e.icon,n=e.country;return r.a.createElement("div",{className:"sidebar__button"},r.a.createElement("span",null,r.a.createElement("img",{src:t,alt:"flag"})),r.a.createElement("span",null,n))}),L=n(17),j=n.n(L),R=n(35),h=n.n(R),N=n(36),w=n.n(N),F=n(37),g=n.n(F),I=n(38),S=n.n(I),x=n(39),W=n.n(x),A=n(40),k=n.n(A),Y=n(41),U=n.n(Y),P=(n(71),function(){return r.a.createElement("aside",{className:"covid-app__section covid-app__sidebar"},r.a.createElement(i.b,{exact:!0,to:"/",activeClassName:"selected"},r.a.createElement(D,{icon:j.a,country:"World"})),r.a.createElement(i.b,{to:"/united-kingdom",activeClassName:"selected"},r.a.createElement(D,{icon:h.a,country:"United Kingdom"})),r.a.createElement(i.b,{to:"/france",activeClassName:"selected"},r.a.createElement(D,{icon:w.a,country:"France"})),r.a.createElement(i.b,{to:"/germany",activeClassName:"selected"},r.a.createElement(D,{icon:g.a,country:"Germany"})),r.a.createElement(i.b,{to:"/italy",activeClassName:"selected"},r.a.createElement(D,{icon:S.a,country:"Italy"})),r.a.createElement(i.b,{to:"/belarus",activeClassName:"selected"},r.a.createElement(D,{icon:W.a,country:"Belarus"})),r.a.createElement(i.b,{to:"/ukraine",activeClassName:"selected"},r.a.createElement(D,{icon:k.a,country:"Ukraine"})),r.a.createElement(i.b,{to:"/russia",activeClassName:"selected"},r.a.createElement(D,{icon:U.a,country:"Russia"})))}),M=n(3),B=(n(73),function(e){var t=e.icon,n=e.world,a=e.numberConverter;return r.a.createElement("header",{className:"covid-app__section covid-app__header"},r.a.createElement("img",{src:t,alt:"flag"}),r.a.createElement("span",null,"Confirmed: ",a(n.TotalConfirmed)," (+",a(n.NewConfirmed),")"),r.a.createElement("span",null,"Recovered: ",a(n.TotalRecovered)," (+",a(n.NewRecovered),")"),r.a.createElement("span",null,"Deaths: ",a(n.TotalDeaths)," (+",a(n.NewDeaths),")"))}),H=(n(74),Object(M.e)((function(e){var t=e.match,n=e.displayType,a=e.setListType,c=e.setChartType;return r.a.createElement("span",{className:"filter__toggle"},r.a.createElement(i.b,{to:"/".concat(t.params.country)},r.a.createElement("button",{className:"covid-app__button ".concat("list"===n?"covid-app__button_selected":null),onClick:a},"List")),r.a.createElement(i.b,{to:"/".concat(t.params.country,"/chart")},r.a.createElement("button",{className:"covid-app__button ".concat("chart"===n?"covid-app__button_selected":null),onClick:c},"Chart")))}))),V=function(e){var t=e.displayType,n=e.filterType,a=e.setDefaultFilter,c=e.setReverseFilter,o=e.setListType,l=e.setChartType;return r.a.createElement("section",{className:"covid-app__section covid-app__filter"},r.a.createElement("span",null,r.a.createElement("span",null,"Sorted by:"),r.a.createElement("button",{className:"covid-app__button ".concat("default"===n?"covid-app__button_selected":null),disabled:"chart"===t,onClick:a},"Default"),r.a.createElement("button",{className:"covid-app__button ".concat("reverse"===n?"covid-app__button_selected":null),disabled:"chart"===t,onClick:c},"Reverse")),r.a.createElement(H,{displayType:t,setListType:o,setChartType:l}))},z=function(e){return e.isInit},K=function(e){return e.world},Z=function(e){return e.worldList.filterType},G=function(e){return e.worldList.filtered},J=function(e){return e.countryList.displayType},q=function(e){return e.countryList.filterType},Q=function(e){return e.countryList.original},X=function(e){return e.countryList.filtered},$=Object(l.b)((function(e){return{displayType:J(e),filterType:q(e)}}),{setCountryFilterDefault:function(){return{type:"COUNTRY_FILTER_DEFAULT"}},setCountryFilterReverse:function(){return{type:"COUNTRY_FILTER_REVERSE"}},setDisplayTypeList:function(){return{type:"SET_DISPLAY_TYPE_LIST"}},setDisplayTypeChart:function(){return{type:"SET_DISPLAY_TYPE_CHART"}}})((function(e){var t=e.displayType,n=e.filterType,a=e.setCountryFilterDefault,c=e.setCountryFilterReverse,o=e.setDisplayTypeList,l=e.setDisplayTypeChart;return r.a.createElement(V,{displayType:t,filterType:n,setDefaultFilter:a,setReverseFilter:c,setListType:o,setChartType:l})})),ee=(n(75),function(e){var t=e.text,n=e.totalData,a=e.numberConverter,c=e.dateConverter;return r.a.createElement("span",{className:"list-item__value"},t&&r.a.createElement("span",{className:"list-item__value_text"},t," "),c&&r.a.createElement("span",{className:"list-item__value_data"},c(n)),a&&r.a.createElement("span",{className:"list-item__value_data"},a(n)))}),te=function(e){var t=e.Day,n=e.Confirmed,a=e.Recovered,c=e.Deaths,o=e.numberConverter,l=e.dateConverter;return r.a.createElement("section",{className:"covid-app__list-item"},r.a.createElement(ee,{totalData:t,dateConverter:l}),r.a.createElement(ee,{text:"Confirmed:",totalData:n,numberConverter:o}),r.a.createElement(ee,{text:"Recovered:",totalData:a,numberConverter:o}),r.a.createElement(ee,{text:"Deaths:",totalData:c,numberConverter:o}))},ne=function(e){var t=e.countryList,n=e.numberConverter,a=e.dateConverter;return r.a.createElement("section",{className:"covid-app__section covid-app__section_list"},t?t.map((function(e){return r.a.createElement(te,{key:e.Date,Day:e.Date,Confirmed:e.Confirmed,Recovered:e.Recovered,Deaths:e.Deaths,numberConverter:n,dateConverter:a})})):"Loading...")},ae=function(e){return e>1e6?"".concat(Math.round(e/1e3)/1e3,"M"):e>1e4?"".concat(Math.round(e/100)/10,"K"):e>1e3?"".concat(Math.round(e/10)/100,"K"):e<1e3?e:void 0},re=function(e){var t=new Date(Date.parse(e));return(new Intl.DateTimeFormat).format(t)},ce=Object(l.b)((function(e){return{countryList:X(e)}}),null)((function(e){return r.a.createElement(ne,Object.assign({},e,{numberConverter:ae,dateConverter:re}))})),oe=n(42),le=n.n(oe),ie=(n(78),function(e){var t=e.countryList,n=e.dateConverter;Object(a.useEffect)((function(){new le.a(c.current,{type:"line",data:{labels:t.map((function(e){return n(e.Date)})),datasets:[{label:"Confirmed",data:t.map((function(e){return e.Confirmed})),borderColor:"#4D1ED3",borderWidth:3,fill:!1},{label:"Recovered",data:t.map((function(e){return e.Recovered})),borderColor:"#72EBBA",borderWidth:3,fill:!1},{label:"Deaths",data:t.map((function(e){return e.Deaths})),borderColor:"#FC1946",borderWidth:3,fill:!1}]},options:{responsive:!0,elements:{point:{pointStyle:"circle",radius:0}},legend:{position:"bottom",labels:{padding:40}},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}),[t,n]);var c=Object(a.useRef)(null);return r.a.createElement("section",{className:"covid-app__section covid-app__chart"},r.a.createElement("canvas",{ref:c}))}),ue=Object(l.b)((function(e){return{countryList:Q(e)}}),null)((function(e){return r.a.createElement(ie,Object.assign({},e,{numberConverter:ae,dateConverter:re}))})),se=Object(M.e)(Object(l.b)(null,{onSetCountry:O})((function(e){var t=e.match,n=e.onSetCountry;return Object(a.useEffect)((function(){n(t.params.country)}),[t.params.country,n]),r.a.createElement(r.a.Fragment,null,r.a.createElement($,null),r.a.createElement(M.a,{exact:!0,path:"/:country/",render:function(){return r.a.createElement(ce,null)}}),r.a.createElement(M.a,{path:"/:country/chart",render:function(){return r.a.createElement(ue,null)}}))}))),de=function(e){var t=e.activeButton,n=e.setDefaultFilter,a=e.setConfirmedFilter,c=e.setRecoveredFilter,o=e.setDeathFilter;return r.a.createElement("section",{className:"covid-app__section covid-app__filter"},r.a.createElement("span",null,r.a.createElement("span",null,"Sorted by:"),r.a.createElement("button",{className:"covid-app__button ".concat("default"===t?"covid-app__button_selected":null),onClick:n},"Default"),r.a.createElement("button",{className:"covid-app__button ".concat("confirmed"===t?"covid-app__button_selected":null),onClick:a},"Confirmed"),r.a.createElement("button",{className:"covid-app__button ".concat("recovered"===t?"covid-app__button_selected":null),onClick:c},"Recovered"),r.a.createElement("button",{className:"covid-app__button ".concat("death"===t?"covid-app__button_selected":null),onClick:o},"Deaths")),r.a.createElement("span",null,r.a.createElement("input",{placeholder:"Search country..."})))},me=Object(l.b)((function(e){return{filterType:Z(e)}}),{setWorldFilterDefault:function(){return{type:"WORLD_FILTER_DEFAULT"}},setWorldFilterConfirmed:function(){return{type:"WORLD_FILTER_CONFIRMED"}},setWorldFilterRecovered:function(){return{type:"WORLD_FILTER_RECOVERED"}},setWorldFilterDeath:function(){return{type:"WORLD_FILTER_DEATH"}}})((function(e){var t=e.filterType,n=e.setWorldFilterDefault,a=e.setWorldFilterConfirmed,c=e.setWorldFilterRecovered,o=e.setWorldFilterDeath;return r.a.createElement(de,{activeButton:t,setDefaultFilter:n,setConfirmedFilter:a,setRecoveredFilter:c,setDeathFilter:o})})),pe=function(e){var t=e.Country,n=e.TotalConfirmed,a=e.NewConfirmed,c=e.TotalDeaths,o=e.NewDeaths,l=e.TotalRecovered,i=e.NewRecovered,u=e.numberConverter;return r.a.createElement("section",{className:"covid-app__list-item"},r.a.createElement(ee,{text:t}),r.a.createElement(ee,{text:"Confirmed:",totalData:n,newData:a,numberConverter:u}),r.a.createElement(ee,{text:"Recovered:",totalData:l,newData:i,numberConverter:u}),r.a.createElement(ee,{text:"Deaths:",totalData:c,newData:o,numberConverter:u}))},fe=function(e){var t=e.worldList,n=e.numberConverter;return r.a.createElement("section",{className:"covid-app__section covid-app__section_list"},t.map((function(e){return r.a.createElement(i.b,{to:"/".concat(e.Slug),key:e.Country},r.a.createElement(pe,{Country:e.Country,TotalConfirmed:e.TotalConfirmed,NewConfirmed:e.NewConfirmed,TotalDeaths:e.TotalDeaths,NewDeaths:e.NewDeaths,TotalRecovered:e.TotalRecovered,NewRecovered:e.NewRecovered,numberConverter:n}))})))},be=Object(l.b)((function(e){return{worldList:G(e)}}),null)((function(e){return r.a.createElement(fe,Object.assign({},e,{numberConverter:ae}))})),ve=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,null),r.a.createElement(be,null))},Ee=(n(79),function(e){var t=e.world,n=e.numberConverter;return r.a.createElement("main",{className:"covid-app__main"},r.a.createElement(B,{icon:j.a,world:t,numberConverter:n}),r.a.createElement(M.a,{exact:!0,path:"/",render:function(){return r.a.createElement(ve,null)}}),r.a.createElement(M.a,{path:"/:country",render:function(){return r.a.createElement(se,null)}}))}),ye=(n(80),function(){return r.a.createElement("div",{className:"covid-app__loader"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))});var _e=Object(l.b)((function(e){return{isInit:z(e),world:K(e)}}),{onInitialization:function(){return function(e){T.getSummary().then((function(t){return e(function(e){return{type:"INITIALIZATION",summary:e}}(t))}))}},onSetCountry:O})((function(e){var t=e.isInit,n=e.onInitialization,c=Object(E.a)(e,["isInit","onInitialization"]);return Object(a.useEffect)((function(){n()}),[n]),t?r.a.createElement("div",{className:"covid-app"},r.a.createElement(P,null),r.a.createElement(Ee,Object.assign({},c,{numberConverter:ae}))):r.a.createElement(ye,null)}));n(81);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:v},r.a.createElement(i.a,{basename:"/covid-app/"},r.a.createElement(_e,null)))),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.9dfcf825.chunk.js.map